# ACID
事务是由一组SQL语句组成的逻辑处理单元，事务具有ACID属性。
* 原子性（Atomicity）：事务是一个原子操作单元。在当时原子是不可分割的最小元素，其对数据的修改，要么全部成功，要么全部都不成功。
* 一致性（Consistent）：事务开始到结束的时间段内，数据都必须保持一致状态。
* 隔离性（Isolation）：数据库系统提供一定的隔离机制，保证事务在不受外部并发操作影响的"独立"环境执行。
* 持久性（Durable）：事务完成后，它对于数据的修改是永久性的，即使出现系统故障也能够保持。

# 事务常见问题
|     | 读   | 写    |
|-----|-----|------|
| 读   | 正常  | 脏读   |
| 写   | 幻读  | 更新丢失 |

* 更新丢失（Lost Update）原因：当多个事务选择同一行操作，并且都是基于最初选定的值，由于每个事务都不知道其他事务的存在，就会发生更新覆盖的问题。类比github提交冲突。
* 脏读（Dirty Reads）原因：事务A读取了事务B已经修改但尚未提交的数据。若事务B回滚数据，事务A的数据存在不一致性的问题。
    不可重复读（Non-Repeatable Reads）原因：事务A第一次读取最初数据，第二次读取事务B已经提交的修改或删除数据。导致两次读取数据不一致。不符合事务的隔离性。
* 幻读（Phantom Reads）原因：事务A根据相同条件第二次查询到事务B提交的新增数据，两次数据结果集不一致。不符合事务的隔离性。
    幻读和脏读有点类似脏读是事务B里面修改了数据，幻读是事务B里面新增了数据。

# OLTP与OLAP的介绍
数据处理大致可以分成两大类：联机事务处理OLTP（on-line transaction processing）、联机分析处理OLAP（On-Line Analytical Processing）。OLTP是传统的关系型数据库的主要应用，主要是基本的、日常的事务处理，例如银行交易。OLAP是数据仓库系统的主要应用，支持复杂的分析操作，侧重决策支持，并且提供直观易懂的查询结果。
* OLTP 系统强调数据库内存效率，强调内存各种指标的命令率，强调绑定变量、并发操作；
* OLAP 系统则强调数据分析，强调SQL执行时长，强调磁盘I/O、分区等。  


LOTP：MySQL，传统后端。
OLAP：HBase，大数据，推荐、广告。  

# 数据库查询时join的几种方式
* inner join：左右取交集
* left join：以左边为准
* right join: 以右边为准
* outter join:左右取并集

默认是inner join

# 冷热分离
冷数据和热数据区分对待，热数据使用缓存。  