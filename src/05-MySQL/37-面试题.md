2. 聚簇索引和非聚簇索引的区别
3. mysql 分布式如何保证一致性，一主多从如何保证写同步，半同步是怎么做的
4. mysql 引擎有哪些，它们的特点和区别是什么
5. mysql 行锁和表锁的触发条件是什么，什么情况下会触发行锁和表锁
6. mysql 主从，主挂了怎么办
7. 悲观锁和乐观锁。
8. 数据库的三范式是什么？
9. 一张自增表里面总共有 7 条数据，删除了最后 2 条数据，重启 mysql 数据库，又插入了一条数据，此时 id 是几？
10. 如何获取当前数据库版本？
11. 说一下 ACID 是什么？
12. char 和 varchar 的区别是什么？
13. float 和 double 的区别是什么？
14. mysql 的内连接、左连接、右连接有什么区别？
15. mysql 索引是怎么实现的？
16. 怎么验证 mysql 的索引是否满足需求？
17. 说一下数据库的事务隔离？
18. 说一下 mysql 常用的引擎？
19. 说一下 mysql 的行锁和表锁？
20. 说一下乐观锁和悲观锁？

21. mysql 问题排查都有哪些手段？

22. 如何做 mysql 的性能优化？
23. 你们后端用什么数据库做持久化的？有没有用到分库分表，怎么做的？
24. 索引的常见实现方式有哪些，有哪些区别?MySQL 的存储引擎有哪些，有哪些区别？InnoDB 使用的是什么方式实现索引，怎么实现的？说下聚簇索引和非聚簇索引的区别?
25. mysql 查询优化
26. MySQL 的索引，B+树性质。
27. B+树和 B 树，联合索引等原理
28. mysql 的悲观锁和乐观锁区别和应用，ABA 问题的解决
29. 项目性能瓶颈在哪，数据库表怎么设计
30. 假设项目的性能瓶颈出现在写数据库上，应该怎么解决峰值时写速度慢的问题
31. 假设数据库需要保存一年的数据，每天一百万条数据，一张表最多存一千万条数据，应该怎么设计表
32. 数据库自增索引。100 台服务器，每台服务器有若干个用户，用户有 id，同时会有新用户加入。实现 id 自增，统计用户个数？不能重复，好像是这样的。
33. mysql，会考 sql 语言，服务器数据库大规模数据怎么设计，db 各种性能指标

Mysql

1. 事务的基本要素
2. 事务隔离级别（必考）
3. 如何解决事务的并发问题(脏读，幻读)（必考）
4. MVCC 多版本并发控制（必考）
5. binlog,redolog,undolog 都是什么，起什么作用
6. InnoDB 的行锁/表锁
7. myisam 和 innodb 的区别，什么时候选择 myisam
8. 为什么选择 B+树作为索引结构（必考）
9. 索引 B+树的叶子节点都可以存哪些东西（必考）
10. 查询在什么时候不走（预期中的）索引（必考）
11. sql 如何优化
12. explain 是如何解析 sql 的
13. order by 原理

# 八、MySQL

- 手写/口述场景题的 SQL 语句
- 一条 SQL 语句在数据库框架中的执行流程？
- 数据库的三范式是什么？
- MySQL 中的数据类型有哪些？
- char 和 varchar 的区别？
- 谈谈你对索引的理解？底层数据结构？
- 为什么要使用索引？一定要使用索引吗？
- 为什么索引的底层数据结构采用 B+ 树而不是红黑树？
- 索引的类型？
- 什么叫聚簇索引？什么叫联合索引？
- 谈下什么是前缀索引？
- 谈下什么是覆盖索引？
- 什么情况下索引会失效？即查询不走索引？
- 查询性能的优化方法？
- InnoDB 和 MyISAM 的比较？
- 为什么要分库分表？分库分表后，主键 ID 怎么设置？
- 水平切分和垂直切分该如何选择？存在什么问题？
- 主从复制中涉及到哪三个线程？
- 如何实现 MySQL 的读写分离？
- MySQL 的主从复制原理是什么？如何解决 MySQL 主从同步延迟问题？
- 谈下你对读写分离的理解？
- 谈下你对数据库事务的理解？不同隔离级别下会产生什么问题？怎么解决？
- MySQL 默认的隔离级别是什么？
- MVCC 的实现原理是什么？
- 数据库中常用的锁有哪些？
- 表锁和行锁有什么区别？
- InnoDB 什么时候使用行级锁？什么时候使用表级锁？
- InnoDB 存储引擎的锁的 3 种算法？
- MySQL 数据库 CPU 飙升到 500% 的话他怎么处理？

1. 数据库三范式是什么?
2. 有哪些数据库优化方面的经验?
3. 请简述常用的索引有哪些种类?
4. 以及在 MySQL 数据库中索引的工作机制是什么?
5. MySQL 的基础操作命令:
6. MySQL 的复制原理以及流程。
7. MySQL 支持的复制类型?
8. MySQL 中 Myisam 与 Innodb 的区别?
9. MySQL 中 Varchar 与 Char 的区别以及 Varchar( 50)中的 50 代表的涵义?
10. MySQL 中 InnoDB 支持的四种事务隔离级别名称，以及逐级之间的区别?
11. 表中有大字段 X (例如: text 类型)，且字段 X 不会经常更新，以读为为主，将该字段拆成子表好处是什么?
12. MySQL 中 InnoDB 引擎的行锁是通过加在什么上完成(或称实现)的?
13. MySQL 中控制内存分配的全局参数，有哪些?
14. 若一张表中只有-一个字段 VARCHAR(N)类型，utf8 编码，则 N 最大值.为多少(精确到数量级即可)?
15. [SELECT \*]和[SELECT 全部字段]的 2 种写法有何优缺点?
16. HAVNG 子句和 WHERE 的异同点?
17. MySQL 当记录不存在时 insert,当记录存在时 update,语句怎么写?
18. MySQL 的 insert 和 update 的 select 语句语法

- MySQL 的复制原理以及流程
- MySQL 中 myisam 与 innodb 的区别，至少 5 点
- MySQL 中 varchar 与 char 的区别以及 varchar(50)中的 50 代表的涵义
- MySQL binlog 的几种日志录入格式以及区别
- MySQL 数据库 cpu 飙升到 500%的话怎么处理
- 备份计划，mysqldump 以及 xtranbackup 的实现原理
- MySQL 单表量级达到 5 千万以上，如何添加修改字段而不产生锁表？
- 生产环境下，变更 MySQL 的表结构步骤是什么？
- MySQL 建表的最佳实践是什么？
- MySQL 的表空间设置个和优化策略主要有哪些？

# MVCC 技术是什么？

- MVCC 技术是什么？MVCC 是多版本控制技术，mysql 的每一行都有一些隐藏字段记录了这一行的 meta 信息。DB_TRX_ID，修改该行的最后一个事务的 ID。DB_POLL_PTR，指向当前行的 undo log 日志。DB_ROW_ID：行标识。DELETE_BIT：删除标志，表示这一行是否被删除。  
  数据表中的每条记录，除了我们自定义的字段外，还有数据库隐式定义的 DB_TRX_ID, DB_ROLL_PTR, DB_RAW_ID 等 3 个字段。

* DB_TRX_ID：最近修改（更新、插入）事务 ID：记录创建这条记录/最后一次修改该记录的事务 ID
* DB_ROLL_PTR：回滚指针，配合 undo 日志，指向这条记录的上一个版本
* DB_RAW_ID：隐藏主键（自增 id），如果数据表没有主键，则 InnoDB 会自动以 DB_ROW_ID 产生一个聚簇索引

# OLTP 与 OLAP 的介绍

数据处理大致可以分成两大类：联机事务处理 OLTP（on-line transaction processing）、联机分析处理 OLAP（On-Line Analytical Processing）。OLTP 是传统的关系型数据库的主要应用，主要是基本的、日常的事务处理，例如银行交易。OLAP 是数据仓库系统的主要应用，支持复杂的分析操作，侧重决策支持，并且提供直观易懂的查询结果。

- OLTP 系统强调数据库内存效率，强调内存各种指标的命令率，强调绑定变量、并发操作；
- OLAP 系统则强调数据分析，强调 SQL 执行时长，强调磁盘 I/O、分区等。

LOTP：MySQL，传统后端。
OLAP：HBase，大数据，推荐、广告。

# 数据库查询时 join 的几种方式

- inner join：左右取交集
- left join：以左边为准
- right join: 以右边为准
- outter join:左右取并集

默认是 inner join

# 冷热分离

冷数据和热数据区分对待，热数据使用缓存。
